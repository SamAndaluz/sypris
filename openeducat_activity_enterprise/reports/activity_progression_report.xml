<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <template id="student_activity_progression_report"
              inherit_id="openeducat_student_progress_enterprise.student_progression_report"
              priority="60">
        <xpath expr="//div[hasclass('progression')]" position="after">
            <div t-if="objs.activity_lines" class="row mt32">
                <div class="col-12">
                    <div class="row mb16 col-8">
                        <strong>Activities:</strong>
                    </div>
                    <table class="table table-sm">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Faculty</th>
                                <th>Activity Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="objs.activity_lines.sorted(key=lambda record: record.date, reverse=False)"
                               t-as="lines">
                                <tr>
                                    <td>
                                        <t t-esc="lines.date" t-options="{'widget': 'date'}"/>
                                    </td>
                                    <td>
                                        <t t-esc="lines.faculty_id.name"/>
                                    </td>
                                    <td>
                                        <t t-esc="lines.type_id.name"/>
                                    </td>

                                    <td>
                                        <t t-esc="lines.description"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </div>
        </xpath>
    </template>
</odoo>
